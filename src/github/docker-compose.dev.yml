version: '3.8'

# Development override - use with: docker compose -f docker-compose.yml -f docker-compose.dev.yml up
services:
  github-mcp:
    build:
      context: .
      dockerfile: Dockerfile
      # Disable build cache for development
      args:
        - BUILDKIT_INLINE_CACHE=0
    
    # Mount source code for live reloading (bypasses bytecode cache)
    volumes:
      - ./src:/app/src:ro
    
    environment:
      # Disable Python bytecode for development
      - PYTHONDONTWRITEBYTECODE=1
      # More verbose logging
      - LOG_LEVEL=DEBUG
    
    command: ["--host", "0.0.0.0", "--port", "8000", "--log-level", "DEBUG"]

